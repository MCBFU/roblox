-- å›¾ç‰‡å’ŒéŸ³æ•ˆæ‰¹é‡æ›¿æ¢å·¥å…· - ä¿®å¤ç‰ˆ
local replacementLists = {
    -- å›¾ç‰‡æ›¿æ¢åˆ—è¡¨
    Images = {
        {oldId = "18983980709", newId = "7361324455"},--æ­»äº¡äººç±»
        {oldId = "733082708", newId = "98446998103932"},--æ®‹è¡€äººç±»
        {oldId = "18143239786", newId = "98446998103932"},--å°çŒ«åèˆŒp
        {oldId = "18143239786", newId = "98446998103932"},--ç›’å­é€‰æ‹©
        {oldId = "17873701775", newId = "14188388240"},--ç¥¨å­æ¡†
        {oldId = "76846693971609", newId = ""},--ç½—å®
        {oldId = "84173824340486", newId = "11419702905"},--ç›¾ç‰ŒæŠ€èƒ½
        {oldId = "80280801657905", newId = "12974453788"},--é€ƒè·‘æŠ€èƒ½
        {oldId = "71894692127690", newId = "98446998103932"},--æœ‰åå›¾ç‰‡
        {oldId = "15459548442", newId = "98446998103932"},--ç›’å­é€‰æ‹©
        {oldId = "17623366300", newId = "15236655346"},--è€ç‰ˆæœ¬ç­‰å€™å…ç«è½¦ï¼ˆå¼€å§‹æŒ‰é’®ï¼‰
        {oldId = "113441953421169", newId = "98446998103932"},--æœˆè‰²ä¸‹è¿½é€
        {oldId = "7792025253", newId = "14202377267"},--ç©å®¶åˆ—è¡¨æœªåŠ è½½å‡ºæ¥çš„äºº
        {oldId = "18848118551", newId = "98446998103932"},--è¿”å›æŒ‰é’®
        {oldId = "18983984311", newId = "12974446859"},--åœ¨åœ°ä¸Šè¶´ç€çš„äºº
        {oldId = "18983985638", newId = "15540208282"},--ç«è½¦å›¾æ¡ˆ
        {oldId = "77354540467357", newId = ""},--å°é»‘äºº
        {oldId = "105124043854658", newId = "11295273292"},--æ€ªç‰©é€ƒç”Ÿé˜µè¥åˆ‡æ¢
    },
    
    -- éŸ³æ•ˆæ›¿æ¢åˆ—è¡¨  
    Sounds = {
        {old = "6027236630", new = "119031191462818"},--æ¿æ¿è·³è·ƒ
        {old = "119547018329590", new = "15689445424"},--ç«è½¦é€ƒç¦»
        {old = "9042971851", new = "133701137571082"},--å¼€å¯æ–°åœ°å›¾æ¸¸æˆ
        {old = "6794886454", new = "94624102598882"},--å…”å­éŸ³ç¬¦ç›’
        {old = "268933841", new = "9043491257"},--è½åœ°
        {old = "1014740409", new = "94624102598882"},--å°å“ˆå‰çªè„¸
        {old = "6052548458", new = "7390036132"},
        {old = "4697381311", new = "94624102598882"},--å“ˆå‰å†²åˆºçªè„¸
        {old = "17779172376", new = "15689451063"},--æ€ªç‰©é€‰æ‹©ç•Œé¢
        {old = "105708271085646", new = "9040093731"},--æœ€åç»“æŸ
        {old = "93555365323626", new = "6592039185"},--åˆšå¼€æ¸¸æˆ
        {old = "9047227058", new = "6698737249"},
        {old = "17754461645", new = "102635449518574"},--æ‹æ‰“ç©å®¶
        {old = "102227464743820", new = "1838285490"},--ç­‰å€™å…å°æ›²âœ…ï¸
        {old = "18108930258", new = "86764987673138"},--ä»ç®¡é“è¢«æ•‘å‡º
        {old = "4458750140", new = "79486256972927"},--éª¨æŠ˜
        {old = "18108929583", new = "88694614773673"},--æ€ªç‰©èƒœåˆ©
        {old = "136847579", new = "4685847723"},--æ€ªç‰©æ˜¯æœºå™¨äºº
        {old = "17830578431", new = "9113988327"},--æ€ªç‰©æ˜¯å“ˆå‰
        {old = "100117953439271", new = "1014740409"},--æ€ªç‰©æ˜¯å¦ˆå’ª
        {old = "", new = "17830572203"},--æ€ªç‰©æ˜¯ç›’å­
        {old = "9125467397", new = "17208380755"},--çˆ¬èµ·
        {old = "131136929849120", new = "166047422"},--æŒ£è„±æˆåŠŸ
        {old = "18783467913", new = "106235104957151"},--é›†é½æ‰€æœ‰é›¶ä»¶
        {old = "18108929972", new = "17754461645"},--è¢«æ”¾å…¥äº•é“
        {old = "103208711906653", new = "15183765436"},--ä¼‘é—²æ—¶åˆ»èƒŒæ™¯éŸ³ä¹âœ…ï¸
        {old = "125643578367125", new = "111358125948665"},--ä½ ä¹°ä¸èµ·
        {old = "130307677976118", new = ""},--åŠ è½½ç”»é¢
        {old = "139792801528961", new = "90645451074699"},--ä¸¾èµ·ç©å®¶
        {old = "89226672351498", new = "93411834929338"},--å¦ˆå’ªçªè„¸
        {old = "81665056647548", new = "93411834929338"},--ç›’å­çªè„¸
    }
}

-- å›¾ç‰‡æ›¿æ¢å‡½æ•°ï¼ˆè°ƒè¯•ç‰ˆï¼‰
local function replaceAllImages()
    local imageCount = 0
    print("å¼€å§‹æ›¿æ¢å›¾ç‰‡...")
    
    for _, item in ipairs(replacementLists.Images) do
        local oldId = item.oldId
        local newId = item.newId
        
        if oldId == "" then goto continue end
        
        print("æ£€æŸ¥å›¾ç‰‡ID: " .. oldId .. " -> " .. (newId ~= "" and newId or "åˆ é™¤"))
        
        -- æ£€æŸ¥æ‰€æœ‰åœ°æ–¹
        local function processObject(obj)
            if obj:IsA("ImageLabel") or obj:IsA("ImageButton") then
                local image = tostring(obj.Image)
                -- æ£€æŸ¥å¤šç§å¯èƒ½çš„æ ¼å¼
                local patterns = {
                    oldId,
                    "rbxassetid://" .. oldId,
                    "http://www.roblox.com/asset/?id=" .. oldId,
                    "https://www.roblox.com/asset/?id=" .. oldId,
                    "rbxasset://" .. oldId
                }
                
                for _, pattern in ipairs(patterns) do
                    if image == pattern then
                        if newId ~= "" then
                            obj.Image = "rbxassetid://" .. newId
                            print("âœ… æ›¿æ¢å›¾ç‰‡: " .. obj:GetFullName())
                            imageCount = imageCount + 1
                        else
                            obj:Destroy()
                            print("ğŸ—‘ï¸ åˆ é™¤å›¾ç‰‡: " .. obj:GetFullName())
                        end
                        return true
                    end
                end
            end
            return false
        end
        
        -- æ£€æŸ¥æ‰€æœ‰æœåŠ¡
        local services = {
            workspace,
            game:GetService("Players"),
            game:GetService("ReplicatedStorage"),
            game:GetService("ServerStorage"),
            game:GetService("Lighting"),
            game:GetService("StarterGui"),
            game:GetService("StarterPack"),
            game:GetService("StarterPlayer"),
            game:GetService("SoundService")
        }
        
        for _, service in ipairs(services) do
            for _, obj in pairs(service:GetDescendants()) do
                processObject(obj)
            end
        end
        
        ::continue::
    end
    
    print("âœ… å›¾ç‰‡æ›¿æ¢å®Œæˆï¼Œå¤„ç†äº† " .. imageCount .. " ä¸ªå›¾ç‰‡")
    return imageCount
end

-- éŸ³æ•ˆæ›¿æ¢å‡½æ•°ï¼ˆè°ƒè¯•ç‰ˆï¼‰
local function replaceAllSounds()
    local soundCount = 0
    print("å¼€å§‹æ›¿æ¢éŸ³æ•ˆ...")
    
    for _, item in ipairs(replacementLists.Sounds) do
        local oldSound = item.old
        local newSound = item.new
        
        if oldSound == "" then goto continue end
        
        print("æ£€æŸ¥éŸ³æ•ˆID: " .. oldSound .. " -> " .. (newSound ~= "" and newSound or "åˆ é™¤"))
        
        -- æ£€æŸ¥æ‰€æœ‰éŸ³æ•ˆ
        for _, obj in pairs(game:GetDescendants()) do
            if obj:IsA("Sound") then
                local soundId = tostring(obj.SoundId)
                
                -- æ£€æŸ¥å¤šç§å¯èƒ½çš„æ ¼å¼
                local patterns = {
                    oldSound,
                    "rbxassetid://" .. oldSound,
                    "http://www.roblox.com/asset/?id=" .. oldSound,
                    "https://www.roblox.com/asset/?id=" .. oldSound,
                    "rbxasset://" .. oldSound
                }
                
                for _, pattern in ipairs(patterns) do
                    if string.find(soundId, pattern) then
                        if newSound ~= "" then
                            obj.SoundId = "rbxassetid://" .. newSound
                            print("âœ… æ›¿æ¢éŸ³æ•ˆ: " .. obj:GetFullName())
                            soundCount = soundCount + 1
                        else
                            obj.Volume = 0
                            obj:Destroy()
                            print("ğŸ—‘ï¸ åˆ é™¤éŸ³æ•ˆ: " .. obj:GetFullName())
                        end
                        break
                    end
                end
            end
        end
        
        ::continue::
    end
    
    print("âœ… éŸ³æ•ˆæ›¿æ¢å®Œæˆï¼Œå¤„ç†äº† " .. soundCount .. " ä¸ªéŸ³æ•ˆ")
    return soundCount
end

-- å®æ—¶ç›‘æ§æ–°å†…å®¹
local function monitorNewContent()
    game.DescendantAdded:Connect(function(obj)
        task.wait(0.1)  -- ç­‰å¾…å¯¹è±¡å®Œå…¨åŠ è½½
        
        -- æ£€æŸ¥å›¾ç‰‡
        if obj:IsA("ImageLabel") or obj:IsA("ImageButton") then
            local image = tostring(obj.Image)
            for _, item in ipairs(replacementLists.Images) do
                if item.oldId ~= "" then
                    local patterns = {
                        item.oldId,
                        "rbxassetid://" .. item.oldId,
                        "http://www.roblox.com/asset/?id=" .. item.oldId,
                        "https://www.roblox.com/asset/?id=" .. item.oldId,
                        "rbxasset://" .. item.oldId
                    }
                    
                    for _, pattern in ipairs(patterns) do
                        if image == pattern then
                            if item.newId ~= "" then
                                obj.Image = "rbxassetid://" .. item.newId
                                print("ğŸ”„ å®æ—¶æ›¿æ¢å›¾ç‰‡: " .. obj:GetFullName())
                            else
                                obj:Destroy()
                            end
                            break
                        end
                    end
                end
            end
        end
        
        -- æ£€æŸ¥éŸ³æ•ˆ
        if obj:IsA("Sound") then
            local soundId = tostring(obj.SoundId)
            for _, item in ipairs(replacementLists.Sounds) do
                if item.old ~= "" then
                    local patterns = {
                        item.old,
                        "rbxassetid://" .. item.old,
                        "http://www.roblox.com/asset/?id=" .. item.old,
                        "https://www.roblox.com/asset/?id=" .. item.old,
                        "rbxasset://" .. item.old
                    }
                    
                    for _, pattern in ipairs(patterns) do
                        if string.find(soundId, pattern) then
                            if item.new ~= "" then
                                obj.SoundId = "rbxassetid://" .. item.new
                                print("ğŸ”„ å®æ—¶æ›¿æ¢éŸ³æ•ˆ: " .. obj:GetFullName())
                            else
                                obj.Volume = 0
                                obj:Destroy()
                            end
                            break
                        end
                    end
                end
            end
        end
    end)
    
    print("ğŸ” å¼€å§‹ç›‘æ§æ–°å†…å®¹...")
end

-- æ‰§è¡Œæ‰€æœ‰æ›¿æ¢
print("ğŸš€ å¼€å§‹æ‰§è¡Œæ›¿æ¢è„šæœ¬...")
local imageCount = replaceAllImages()
local soundCount = replaceAllSounds()
monitorNewContent()

print("====================================")
print("âœ… æ›¿æ¢å®Œæˆ")
print("å›¾ç‰‡æ›¿æ¢é¡¹: " .. #replacementLists.Images)
print("éŸ³æ•ˆæ›¿æ¢é¡¹: " .. #replacementLists.Sounds)
print("å®é™…å¤„ç†å›¾ç‰‡: " .. imageCount)
print("å®é™…å¤„ç†éŸ³æ•ˆ: " .. soundCount)
print("====================================")